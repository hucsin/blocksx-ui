@import url(./NewNode.scss);

@keyframes nodeShowFrames {
    0% {
        transform: scale(0, 0);
        opacity: 0;
    }

    90% {
        transform: scale(1.2, 1.2);
    }

    100% {
        transform: scale(1, 1);
        // opacity: 0;
        opacity: 1;
    }
}

@keyframes destoryFrames {
    0% {
        transform: scale(1, 1);
        opacity: 1;
    }

    10% {
        transform: scale(1.2, 1.2);
    }

    100% {
        transform: scale(0, 0);
        // opacity: 0;
    }
}

.ui-mircoflow-node {
    position: absolute;
    width: 120px;
    height: 120px;
    border-radius: 80px;
    text-align: center;
    border: 9px solid #fff;
    z-index: 20;
    &.ui-mircoflow-node-floating {
        border: 9px dashed #ccc;
        opacity: .55;
    }
    &.jtk-drag {
        > span:not(.ui-recofilter-wrapper) ,
        .ui-title,
        .ui-adder-router,
        .ui-adder {
            display: none;;
        }
    }
    //transition: all .2s;
    > span:not(.ui-recofilter-wrapper) {
        position: absolute;
        border: 8px solid #fff;
        z-index: 100;
        font-size: 24px;
        padding: 8px;
        border-radius: 32px;;
        top: -8px;
        right: -8px;
        transition: all .2s ;
        color:#fff;
        transition: all .2s;
    }
    > .ui-smartpage-popover-wrapper {
        width: 100%;
        height: 100%;
    }
    &:hover {
        > span:not(.ui-recofilter-wrapper) {
           top: -24px;
           right: -24px;
           //border-color: var(--hover-color)
        }
    }
    .ui-title {
        position: absolute;
        width: 200%;
        left: -50%;
        top: 130px;
        opacity: .6;
        pointer-events: none;
        > span {
            opacity: .5;
        }
        > h4 {
            margin: 0;
            padding-top: 4px;
            span {
                background-color: #fff;
                font-weight: 400;
                border: 1px solid var(--main-border-color);
                display: inline-block;
                line-height: 16px;
                width: 16px;
                font-size: 12px;
                border-radius: 3px;
                vertical-align: middle;
            }
        }
    }
    &:hover {
        z-index: 110;
    }
    cursor: pointer;


    &.node-new {
        .ui-adder{
            display: none;
        }
    }
    .ui-adder-router,
    .ui-adder {
        position: absolute;
        width: 32px;
        height: 32px;
        top: 50%;
        margin-top: -20px;
        right: -32px;
        font-size: 24px;
        line-height: 32px;
        text-align: center;
        z-index: 111;
        border-radius: 100%;
        border: 4px solid var(--main-inverse-color);
        color:#fff;
        font-weight: bolder;;
        background:var(--color);
        transition: all .2s;
        transform: scale(0);
        opacity: .2;
        
    }
    .ui-adder-router {
        right: auto;
        top: -20px;
        left: 50%;
        margin-top: 0;
        margin-left: -22px;
    }
    &:hover {
        .ui-adder-router,
        .ui-adder{
            opacity: 1;
            transform: scale(1) rotate(0deg);
            &:hover {
                //border-color:var(--hover-color);
                transform: scale(1.3) rotate(90deg);
                
            }
        }
    }
    

    &.destroy {
        animation: destoryFrames 1s .4;
    }

    &.node-new {
        transform: scale(0, 0);
        opacity: 0;
    }

    &.showed {
        animation: nodeShowFrames 1s 1;
    }
   
    .ant-avatar {
        width: 100%;
        height: 100%;
        padding: 10px;
        line-height: 100%;
        text-align: center;
        font-size: 80px;
        position: relative;
        z-index: 110;
        top: 9px;
        >.anticon {
            vertical-align: middle;
        }
    }
    .ant-avatar  {
        background-color: transparent;
    }
    .ui-recofilter-wrapper {

        position: relative;
        z-index: 111;
        display: block;
        width: 100%;
        height: 100%;
        cursor: pointer;
    }
    &::after,
    &::before {
        content: " ";
        display:block;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background: var(--color);
        border-radius: 100%;
        transition: all .2s;
    }
    &::before {
        border:9px solid var(--main-inverse-color);
    }
    &::after {
        background:var(--hover-color);
    }
    &:hover {
        &::after {
            width: calc(100% + 18px);
            height: calc(100% + 18px);
            left: -9px;
            top: -9px;
        }
    }
}

.overlays-arrow {
    position: relative;
    width: 10px;
    height: 10px;
    opacity: .8;

    &::after {
        position: absolute;
        content: " ";
        background: #fff;
        height: 3px;
        width: 7px;
        top: 4px;
        left: 8px;
    }

    &::before {

        position: absolute;
        content: " ";
        width: 6px;
        height: 6px;
        border: 3px solid #fff;
        border-left: 3px solid transparent;
        border-bottom: 3px solid transparent;
        transform: rotate(45deg);
        top: -1px;
        left: 6px;
    }
}



